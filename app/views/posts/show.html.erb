<div class="container mx-auto mt-20 ">

  <div class="bg-gray-100 p-4 rounded-lg mb-4">
    <h2 class="text-2xl font-bold mb-4"><%= @post.title %></h2>
    <p class="text-gray-700 text-base"><%= @post.body %></p>
    <div class="flex justify-between">
      <div>
        <p>
          <strong>Tags:</strong>
          <% @post.tags.each do |tag| %>
            <span class="bg-orange-400 ml-2 px2 py-1 cursor-pointer">
              <%= tag.name %>
            </span>
            <% if can? :destroy, tag %>
              <%= link_to "delete", tag_path(tag), method: :delete, data: { confirm: "Are you sure?" }, class: "bg-red-500 px-4 py-2 mt-5" %>
            <% end %>
          <% end %>
        </p>
      </div>
      <div>
        <% if can? :update, @post %>
          <%= link_to "edit", edit_post_path(@post), class: "bg-blue-500 px-4 py-2 mt-10 mr-2" %>
        <% end %>
        <% if can? :destroy, @post %>
          <%= link_to "delete", post_path(@post), method: :delete, data: { confirm: "Are you sure?" }, class: "bg-red-500 px-4 py-2 mt-10" %>
        <% end %>
      </div>
    </div>
      <div class="">

        <%= form_with(model: [@post, Comment.new], local: false) do |form| %>
          <div class="field">
            <%= form.text_area :content %>
          </div>
          <%= form.submit "Add Comment" %>
        <% end %>

        <div id="comments">
          <%= turbo_stream_from @post %>
          <%= render @post.comments %>
        </div>
      </div>
  </div>
</div>
